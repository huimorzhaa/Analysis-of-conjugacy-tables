<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Точный тест Фишера</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        h1, h2 {
            color: #2c3e50;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        table {
            border-collapse: collapse;
            margin: 20px 0;
            width: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        .formula {
            font-family: "Cambria Math", "Latin Modern Math", STIXGeneral, serif;
            font-size: 1.1em;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        .formula-inline {
            font-family: "Cambria Math", "Latin Modern Math", STIXGeneral, serif;
            font-size: 1.1em;
            vertical-align: middle;
        }
        .highlight {
            background-color: #e3f2fd;
            padding: 3px 6px;
            border-radius: 3px;
            font-weight: 500;
        }
        .frac {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            margin: 0 2px;
        }
        .frac > span {
            display: block;
            padding: 0 5px;
        }
        .frac span.bottom {
            border-top: 1px solid #666;
        }
        .factorial {
            position: relative;
            padding-right: 5px;
        }
        .factorial:after {
            content: "!";
            position: absolute;
            right: 0;
            top: -3px;
            font-size: 0.8em;
        }
        .step {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .step-title {
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <h1>Изучение таблиц сопряженности методом точного теста Фишера</h1>
    
    <p>Когда мы работаем с маленькими таблицами, особенно 2×2, и количеством наблюдений мало (например, в каких-то ячейках меньше 5 случаев), стандартные методы проверки связей становятся неточными.</p>
    <p>В таких случаях применяют <span class="highlight">точный тест Фишера</span>.</p>
    
    <p>Этот тест аккуратно проверяет, есть ли статистическая связь между двумя категориальными переменными.</p>
    
    <h2>Что важно учитывать:</h2>
    <ul>
        <li>Таблица должна быть небольшая (обычно 2×2).</li>
        <li>Переменные — категориальные (например, да/нет, лечился/не лечился).</li>
        <li>Метод работает идеально при малых выборках.</li>
    </ul>
    
    <h2>Алгоритм расчета теста Фишера по шагам:</h2>
    
    <div class="step">
        <div class="step-title">Шаг 1. Построить таблицу фактических частот</div>
        <p>Заполняем таблицу сопряженности 2×2:</p>
        
        <table>
            <tr>
                <th></th>
                <th>Событие A</th>
                <th>Не событие A</th>
                <th>Всего</th>
            </tr>
            <tr>
                <td>Группа 1</td>
                <td>a</td>
                <td>b</td>
                <td>a + b</td>
            </tr>
            <tr>
                <td>Группа 2</td>
                <td>c</td>
                <td>d</td>
                <td>c + d</td>
            </tr>
            <tr>
                <td>Всего</td>
                <td>a + c</td>
                <td>b + d</td>
                <td>n</td>
            </tr>
        </table>
    </div>
    
    <div class="step">
        <div class="step-title">Шаг 2. Вычислить вероятность данного распределения</div>
        <p>Вероятность получения данной таблицы вычисляется по формуле:</p>
        
        <div class="formula">
            p = 
            <div class="frac">
                <span>(a+b)! (c+d)! (a+c)! (b+d)!</span>
                <span class="bottom">a! b! c! d! n!</span>
            </div>
        </div>
        
        <p>Где <span class="factorial">n</span> обозначает факториал числа n.</p>
    </div>
    
    <div class="step">
        <div class="step-title">Шаг 3. Сравнить p-значение с уровнем значимости</div>
        <p>Сравниваем полученное p-значение с выбранным уровнем значимости α (обычно 0.05):</p>
        
        <ul>
            <li>Если <span class="formula-inline">p ≤ α</span>, отвергаем нулевую гипотезу (связь есть)</li>
            <li>Если <span class="formula-inline">p > α</span>, недостаточно оснований отвергнуть нулевую гипотезу (связи нет)</li>
        </ul>
    </div>
    
    <h2>Пример расчета</h2>
    <p><strong>Исходные данные:</strong> Проверяем, влияет ли новый препарат на выздоровление.</p>
    
    <table>
        <tr>
            <th></th>
            <th>Выздоровел</th>
            <th>Не выздоровел</th>
            <th>Всего</th>
        </tr>
        <tr>
            <td>Лечился</td>
            <td>8</td>
            <td>2</td>
            <td>10</td>
        </tr>
        <tr>
            <td>Не лечился</td>
            <td>1</td>
            <td>9</td>
            <td>10</td>
        </tr>
        <tr>
            <td>Всего</td>
            <td>9</td>
            <td>11</td>
            <td>20</td>
        </tr>
    </table>
    
    <div class="step">
        <div class="step-title">Шаг 1. Определяем значения</div>
        <div class="formula">
            a = 8 b = 2 c = 1 d = 9 n = 20
        </div>
    </div>
    
    <div class="step">
        <div class="step-title">Шаг 2. Подставляем в формулу</div>
        <div class="formula">
            p = 
            <div class="frac">
                <span>(8+2)! (1+9)! (8+1)! (2+9)!</span>
                <span class="bottom">8! 2! 1! 9! 20!</span>
            </div>
            = 
            <div class="frac">
                <span>10! 10! 9! 11!</span>
                <span class="bottom">8! 2! 1! 9! 20!</span>
            </div>
        </div>
    </div>
    
    <div class="step">
        <div class="step-title">Шаг 3. Вычисляем и интерпретируем</div>
        <p>После вычислений получаем p ≈ 0.00276</p>
        <p>Так как <span class="formula-inline">0.00276 < 0.05</span>, делаем вывод: <strong>связь есть, лечение помогает</strong>.</p>
    </div>
</body>
</html>